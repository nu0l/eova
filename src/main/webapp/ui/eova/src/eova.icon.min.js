(function(a){var f=a.fn.eovatext.TextBox;ICONBOX="iconbox";a.fn.eovaicon=function(d){var b=[];this.each(function(){var c=a.data(this,ICONBOX);c?a.extend(c.options,d):(c=new e(this,d),c.render(),c.bindEvents());a.data(this,ICONBOX,c);b.push(c)});return 1==b.length?b[0]:b};var e=a.fn.eovaicon.IconBox=function(d,b){f.apply(this,arguments);this.defaults={btnTitle:"\u70b9\u51fb\u9009\u62e9\u56fe\u6807",isReadonly:!1};this.options=a.extend({},this.options,this.defaults,b)};a.extendPrototype(e,f);var g=function(a,b){var c=parent.sy.modalDialog({id:"icon_dialog",title:"\u4fee\u6539ICON",url:"/toIcon",buttons:[{id:"icon_ok",text:"\u4fee\u6539",handler:function(){c.find("iframe").get(0).contentWindow.selectIcon(c,a,b);window.focus()}}]},572,390)};e.prototype.bindEvents=function(){var a=this.$textbox,b=this.$btn;this.options.isReadonly?a.attr("readonly","readonly"):(b.bind("click",function(){b.addClass("ext-icon-zoom");g(a,b)}),this.$textbox.bind("click",function(){b.trigger("click")}))}})(jQuery);